<!DOCTYPE html>
<html>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/2.1.4/js.cookie.min.js"></script>
<body>
<p>FTA Member</p>
<select class="user_select">
  <option value="[NO NAME SELECTED]">Select your name</option>
  <option value="meraki-andreasandersen">Andreas Andersen</option>
  <option value="meraki-davidluong">David Luong</option>
  <option value="meraki-jayyu">Jay Yu</option>
  <option value="meraki-johnla">John La</option>
  <option value="meraki-kevinhom">Kevin Hom</option>
  <option value="meraki-kyleseibt">Kyle Seibt</option>
  <option value="meraki-marcorengo">Marc Orengo</option>
  <option value="meraki-otisioannou">Otis Ioannou</option>
  <option value="meraki-fta">APJC</option>
</select></br>
<p>Call Type</p>
<select class="call_select">
  <option value="/fta?">FTA Call</option>
  <option value="/sm-onboarding?">SM Onboarding Call</option>
</select></br>
<p>Customer Name</p>
<input id="name" />
<p>Customer Email</p>
<input id="email" />
<p>Case Number</p>
<input id="case" />
<p>Account Name</p>
<input id="account" />
<div id="q4">
<p>Products On Trial</p>
<input id="products" />
</div>

<p>Output</p>
<div id="URL">https://calendly.com/<span id="user_display"></span><span id="call_display"></span><span id="name_display"></span><span id="email_display"></span><span id="case_display"></span><span id="account_display"></span><span id="products_display"></span></div>
<br>
<button onclick="copyToClipboard('#URL')">Copy URL</button>

<script>
$(document).ready(function() {
    $(".user_select").change(function() {
        $('#user_display').html($(this).val());
    }).change();
    $(".call_select").change(function() {
        $('#call_display').html($(this).val());
        var opt = $(this).val();
        if (opt == "/fta?"){
          $('#q4').show();
        } else {
          $('#q4').hide();
        }
    }).change();
    $("#name").on("change keypress input", function() {
        $("#name_display").text( 'name=' + $(this).val().replace(/\s+/g, '+') );
    });
    $("#email").on("change keypress input", function() {
        $("#email_display").text( '&email=' + $(this).val().replace(/\s+/g, '+') );
    });
    $("#case").on("change keypress input", function() {
        $("#case_display").text( '&a1=' + $(this).val().replace(/\s+/g, '+') );
    });
    $("#account").on("change keypress input", function() {
        $("#account_display").text( '&a2=' + $(this).val().replace(/\s+/g, '+') );
    });
    $("#products").on("change keypress input", function() {
        $("#products_display").text( '&a3=' + $(this).val().replace(/\s+/g, '+') );
    });
    $(function () {
    $('.user_select').change(function() {
        console.log('change');
        if( Cookies ) {
            Cookies.set('user', $(this).val());
        }
    });
    var user_cookie = Cookies && Cookies.get('user') || '[NO NAME SELECTED]';
    $('.user_select').val(user_cookie).trigger('change');
    });
});
</script>
<script>
function copyToClipboard(element) {
  var $temp = $("<input>");
  $("body").append($temp);
  $temp.val($(element).text()).select();
  document.execCommand("copy");
  $temp.remove();
}
</script>
</body>
</html>
